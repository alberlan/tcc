<ui:composition template="/WEB-INF/template/LayoutPadrao.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui">

    <f:metadata>        
           
        <f:event listener="#{matricularAlunoBean.inicializarTurma()}" type="preRenderView"/>  
        <f:event listener="#{matricularAlunoBean.inicializarAluno()}" type="preRenderView"/>  
    </f:metadata>    


    <ui:define name="titulo">Matricular Aluno</ui:define>
    <ui:define name="corpo">

        <h:form>

            <h1>Matricular Aluno</h1>

            <p:toolbar style="margin-top: 10px">
                <p:toolbarGroup>
                    <p:button value="Novo" outcome="/telas-sistema/telas-gerenciamento/matricularaluno"/>
                    <p:commandButton value="Salvar" id="botaoSalvar" action="#{matricularAlunoBean.salvar()}"
                                     update="@form"/>
                </p:toolbarGroup>
                <p:toolbarGroup align="right">
                    <p:button value="Pesquisa"/>
                </p:toolbarGroup>
            </p:toolbar>

            <p:panelGrid columns="2" id="painel" style="width: 100%; margin-top: 20px"
                         columnClasses="rotulo, campo">


                <p:outputLabel value="Aluno" for="aluno"/>
                <p:selectOneMenu id="aluno">
                    <f:selectItem itemLabel="Selecione o Aluno"/>
                    <f:selectItems value="#{matricularAlunoBean.alunoAlunos}" var="aluno"
                                   itemValue="#{aluno}" itemLabel="#{aluno.nome}" />
                </p:selectOneMenu>

                
                <p:outputLabel value="Turma" for="turma"/>
                <p:selectOneMenu id="turma">
                    <f:selectItem itemLabel="Selecione a Turma"/>
                    <f:selectItems value="#{matricularAlunoBean.turmaAlunos}" var="turma"
                                   itemValue="#{turma}" itemLabel="#{turma.descricao}" />
                </p:selectOneMenu>


            </p:panelGrid>
        </h:form>

    </ui:define>
</ui:composition>
